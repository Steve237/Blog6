{% extends 'base.html.twig' %}

{% block title %}Figure{% endblock %}

{% block body %}
    <div class="container">
        <div class="card mb-3" style="margin-top:100px">
            <img src="{{asset('img/figure/' ~ figures.imageTop)}}" class="card-img-top imagetopsize" alt="figure_snowboard">
            <div style="position:absolute;top:30px;right:80px;">
                <a href="{{path('modification_imageTop', {'id': figures.id})}}">
                    <button type="button" class="btn btn-outline-primary">
                        <svg class="bi bi-pencil" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M11.293 1.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z" clip-rule="evenodd"/>
                            <path fill-rule="evenodd" d="M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 00.5.5H4v.5a.5.5 0 00.5.5H5v.5a.5.5 0 00.5.5H6v-1.5a.5.5 0 00-.5-.5H5v-.5a.5.5 0 00-.5-.5H3z" clip-rule="evenodd"/>
                        </svg>
                    </button>
                </a>
            </div>
    
            
            <form method="POST">
                <input type="hidden" name="_method" value="delete">
                <input type="hidden" name="_token" value="{{csrf_token('SUP' ~ figures.id)}}">
                <button type="submit" class="btn btn-outline-danger" style="position:absolute;top:30px;right:40px;margin-right:-10px">
                    <svg class="bi bi-trash-fill" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M2.5 1a1 1 0 00-1 1v1a1 1 0 001 1H3v9a2 2 0 002 2h6a2 2 0 002-2V4h.5a1 1 0 001-1V2a1 1 0 00-1-1H10a1 1 0 00-1-1H7a1 1 0 00-1 1H2.5zm3 4a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7a.5.5 0 01.5-.5zM8 5a.5.5 0 01.5.5v7a.5.5 0 01-1 0v-7A.5.5 0 018 5zm3 .5a.5.5 0 00-1 0v7a.5.5 0 001 0v-7z" clip-rule="evenodd"/>
                    </svg>
                </button>
            </form>
            
            <div class="card-body">
                <button type="button" class="btn btn-outline-primary"><a href="">Ajouter image</a></button>
                
                <div class="row">
                    
                    {% for image in figures.images %}
                    <div class="col-md-4 bodypost">
                        <img src="{{asset('img/figure/' ~ image.imageFigure)}}" class="card-img-top" style="height:300px;" alt="figure_snowboard"></a>
                        <div class="row">
                            <div class="col-md-2">
                        <a href="{{path('update_image', {'id': image.id})}}">
                            <button type="button" class="btn btn-outline-primary">
                                <svg class="bi bi-pencil" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M11.293 1.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z" clip-rule="evenodd"/>
                                    <path fill-rule="evenodd" d="M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 00.5.5H4v.5a.5.5 0 00.5.5H5v.5a.5.5 0 00.5.5H6v-1.5a.5.5 0 00-.5-.5H5v-.5a.5.5 0 00-.5-.5H3z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                        </a>
                        </div>
                        
                        <div class="col-md-2">
                            <button type="submit" class="btn btn-outline-danger">
                                <a href="{{path('image_delete', {'id': image.id})}}">Supprimer</a>
                            </button>
                        </div>
                        </div>
                    </div>
                    {% endfor %} 
                </div>
            
                <div class="row">
                
                    {% for video in figures.videos %}
                    <div class="col-md-4 bodypost">
                        <iframe height="300" width="335" src='{{video.videoName}}' frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                            <div class="row">
                            <div class="col-md-2">
                                <a href="{{path('update_video', {'id': video.id})}}">
                            <button type="button" class="btn btn-outline-primary">
                                <svg class="bi bi-pencil" width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" d="M11.293 1.293a1 1 0 011.414 0l2 2a1 1 0 010 1.414l-9 9a1 1 0 01-.39.242l-3 1a1 1 0 01-1.266-1.265l1-3a1 1 0 01.242-.391l9-9zM12 2l2 2-9 9-3 1 1-3 9-9z" clip-rule="evenodd"/>
                                    <path fill-rule="evenodd" d="M12.146 6.354l-2.5-2.5.708-.708 2.5 2.5-.707.708zM3 10v.5a.5.5 0 00.5.5H4v.5a.5.5 0 00.5.5H5v.5a.5.5 0 00.5.5H6v-1.5a.5.5 0 00-.5-.5H5v-.5a.5.5 0 00-.5-.5H3z" clip-rule="evenodd"/>
                                </svg>
                            </button>
                        </a>
                        </div>
                        
                        <div class="col-md-2">
                            <button type="submit" class="btn btn-outline-danger">
                                <a href="{{path('video_delete', {'id': video.id})}}">Supprimer</a>
                            </button>
                        </div>
                        </div>
                    </div>
                    {% endfor %} 
                </div>
            
            </div>
        
        {{form_start(form)}}
        
            {{form_widget(form)}}

            <input type="hidden" id="widgets-counter" value="0">

            <button type="submit" class="btn btn-primary">Enregistrer les modifications</button>

        {{form_end(form)}}
    </div>   
</div>
{% endblock %}


